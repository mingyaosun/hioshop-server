{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\api\\controller\\index.js"
    ],
    "names": [
        "Base",
        "require",
        "moment",
        "Jushuitan",
        "rp",
        "http",
        "module",
        "exports",
        "indexAction",
        "appInfoAction",
        "currentTime",
        "parseInt",
        "Date",
        "getTime",
        "banner",
        "model",
        "where",
        "enabled",
        "is_delete",
        "order",
        "select",
        "notice",
        "channel",
        "is_channel",
        "parent_id",
        "sort_order",
        "categoryList",
        "is_show",
        "newCategoryList",
        "categoryItem",
        "categoryGoods",
        "category_id",
        "id",
        "goods_number",
        "is_on_sale",
        "is_index",
        "push",
        "name",
        "goodsList",
        "img_url",
        "height",
        "p_height",
        "success"
    ],
    "mappings": ";;AAAA,MAAMA,OAAOC,QAAQ,WAAR,CAAb;AACA;AACA,MAAMC,SAASD,QAAQ,QAAR,CAAf;AACA,MAAME,YAAYF,QAAQ,WAAR,CAAlB;AACA,MAAMG,KAAKH,QAAQ,iBAAR,CAAX;AACA,MAAMI,OAAOJ,QAAQ,MAAR,CAAb;AACAK,OAAOC,OAAP,GAAiB,cAAcP,IAAd,CAAmB;AAC1BQ,eAAN,GAAoB;AAChB;AACA;;AAFgB;AAGnB;AACKC,iBAAN,GAAsB;AAAA;;AAAA;AAClB;AACA,gBAAIC,cAAcC,SAAS,IAAIC,IAAJ,GAAWC,OAAX,KAAuB,IAAhC,CAAlB;AACA,kBAAMC,SAAS,MAAM,MAAKC,KAAL,CAAW,IAAX,EAAiBC,KAAjB,CAAuB;AACxCC,yBAAS,CAD+B;AAExCC,2BAAW;AAF6B,aAAvB,EAGlBC,KAHkB,CAGZ,gBAHY,EAGMC,MAHN,EAArB;AAIA,kBAAMC,SAAS,MAAM,MAAKN,KAAL,CAAW,QAAX,EAAqBC,KAArB,CAA2B;AAC5CE,2BAAW;AADiC,aAA3B,EAElBE,MAFkB,EAArB;AAGA,kBAAME,UAAU,MAAM,MAAKP,KAAL,CAAW,UAAX,EAAuBC,KAAvB,CAA6B;AAC/CO,4BAAY,CADmC;AAE/CC,2BAAW;AAFoC,aAA7B,EAGnBL,KAHmB,CAGb;AACLM,4BAAY;AADP,aAHa,EAKnBL,MALmB,EAAtB;AAMA,kBAAMM,eAAe,MAAM,MAAKX,KAAL,CAAW,UAAX,EAAuBC,KAAvB,CAA6B;AACpDQ,2BAAW,CADyC;AAEpDG,yBAAS;AAF2C,aAA7B,EAGxBR,KAHwB,CAGlB;AACLM,4BAAY;AADP,aAHkB,EAKxBL,MALwB,EAA3B;AAMA,kBAAMQ,kBAAkB,EAAxB;AACA,iBAAK,MAAMC,YAAX,IAA2BH,YAA3B,EAAyC;AACrC,sBAAMI,gBAAgB,MAAM,MAAKf,KAAL,CAAW,OAAX,EAAoBC,KAApB,CAA0B;AAClDe,iCAAaF,aAAaG,EADwB;AAElDC,kCAAc,CAAC,IAAD,EAAO,CAAP,CAFoC;AAGlDC,gCAAY,CAHsC;AAIlDC,8BAAU,CAJwC;AAKlDjB,+BAAW;AALuC,iBAA1B,EAMzBC,KANyB,CAMnB;AACLM,gCAAY;AADP,iBANmB,EAQzBL,MARyB,EAA5B;AASAQ,gCAAgBQ,IAAhB,CAAqB;AACjBJ,wBAAIH,aAAaG,EADA;AAEjBK,0BAAMR,aAAaQ,IAFF;AAGjBC,+BAAWR,aAHM;AAIjBhB,4BAAQe,aAAaU,OAJJ;AAKjBC,4BAAQX,aAAaY;AALJ,iBAArB;AAOH;AACD,mBAAO,MAAKC,OAAL,CAAa;AAChBpB,yBAASA,OADO;AAEhBR,wBAAQA,MAFQ;AAGhBO,wBAAQA,MAHQ;AAIhBK,8BAAcE;AAJE,aAAb,CAAP;AAzCkB;AA+CrB;AApD+B,CAApC",
    "file": "..\\..\\..\\src\\api\\controller\\index.js",
    "sourcesContent": [
        "const Base = require('./base.js');\r\n// const view = require('think-view');\r\nconst moment = require('moment');\r\nconst Jushuitan = require('jushuitan');\r\nconst rp = require('request-promise');\r\nconst http = require(\"http\");\r\nmodule.exports = class extends Base {\r\n    async indexAction() {\r\n        //auto render template file index_index.html\r\n        // return this.display();\r\n    }\r\n    async appInfoAction() {\r\n        // async indexAction() {\r\n        let currentTime = parseInt(new Date().getTime() / 1000);\r\n        const banner = await this.model('ad').where({\r\n            enabled: 1,\r\n            is_delete: 0\r\n        }).order('sort_order asc').select();\r\n        const notice = await this.model('notice').where({\r\n            is_delete: 0\r\n        }).select();\r\n        const channel = await this.model('category').where({\r\n            is_channel: 1,\r\n            parent_id: 0,\r\n        }).order({\r\n            sort_order: 'asc'\r\n        }).select();\r\n        const categoryList = await this.model('category').where({\r\n            parent_id: 0,\r\n            is_show: 1\r\n        }).order({\r\n            sort_order: 'asc'\r\n        }).select();\r\n        const newCategoryList = [];\r\n        for (const categoryItem of categoryList) {\r\n            const categoryGoods = await this.model('goods').where({\r\n                category_id: categoryItem.id,\r\n                goods_number: ['>=', 0],\r\n                is_on_sale: 1,\r\n                is_index: 1,\r\n                is_delete: 0\r\n            }).order({\r\n                sort_order: 'asc'\r\n            }).select();\r\n            newCategoryList.push({\r\n                id: categoryItem.id,\r\n                name: categoryItem.name,\r\n                goodsList: categoryGoods,\r\n                banner: categoryItem.img_url,\r\n                height: categoryItem.p_height\r\n            });\r\n        }\r\n        return this.success({\r\n            channel: channel,\r\n            banner: banner,\r\n            notice: notice,\r\n            categoryList: newCategoryList,\r\n        });\r\n    }\r\n};"
    ]
}